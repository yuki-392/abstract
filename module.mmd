graph TD
    %% 学習者
    A[学習者（ナビゲータ役）]

    %% 生成AIのモジュール
    B[コード生成モジュール]
    C[指示入力モジュール]
    D[指示評価モジュール]

    %% データベースや保持データ
    DB1[(関数仕様DB)]
    DB2[(誤り制御DB)]
    DB3[(編集中ソースコード)]

    %% フロー
    A -->|関数仕様を提示| DB1
    DB1 --> B
    B -->|誤りを含むソースコード| DB3
    DB3 -->|ソースコード参照| A

    %% 学習者の指示
    A -->|誤り修正の指示| C
    DB3 -->|ソースコードを渡す| C

    %% 修正処理
    C -->|修正後ソースコード| DB3
    C -->|指示内容と修正後ソースコード| D

    %% 評価
    D -->|評価結果（正確性・網羅性）| A

    %% 誤り制御
    B -->|誤り情報を参照| DB2
